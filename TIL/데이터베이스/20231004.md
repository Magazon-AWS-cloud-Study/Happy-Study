# 2023.10.04

## 키워드

- 트랜잭션
- 데이터베이스 SQL(DDL, DML, DCL)
- 제약조건

#### 트랜잭션

: 여러 개의 작업을 하나로 묶은 실행 유닛 → 하나의 특정 작업으로 시작을 해서 묶여 있는 모든 작업들을 다 완료해야 정상적으로 종료

1. 트랜잭션 속성 ACID

   - Atomicity(원자성) : All or Nothing
   - Consistency(일관성) : 트랜잭션 이전과 이후, 데이터베이스의 상태는 이전과 같이 유효해야 한다.
   - Isolation(격리성) : 모든 트랜잭션은 다른 트랜잭션으로부터 독립되어야 한다.
   - Durability(내구성) : 해당 트랜잭션에 대한 로그가 남아야하는 성질 - 만약 런타임 오류나 시스템 오류가 발생하더라도, 해당 기록은 영구적이어야 한다는 뜻.

2. 트랜잭션 키워드
   - START TRANSACTION
     ```
     USE emp_table;
     START TRANSACTION;
     UPDATE emp_ID
     SET lgId = ‘--’;
     ```

#### CTAS 복제

1. 구조 + 테이터 복제

   - 데이터 형식은 그대로 복제되나 제약조건은 복제가 되지 않으므로 PK 조건 없음.

   ```
   CREATE TABLE Employee
   AS
   SELECT * FROM EMP;
   ```

2. 데이터만 복제
   - 구조는 똑같이 복사되고, WHERE 0 > 1 조건을 만족하는 데이터가 없기 때문에 틀만 똑같이 만들 수 있다.
   ```
   CREATE TABLE Employee
   AS
   SELECT * FROM EMP
   WHERE 0 > 1;
   ```
